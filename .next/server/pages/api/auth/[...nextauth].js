"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/[...nextauth]";
exports.ids = ["pages/api/auth/[...nextauth]"];
exports.modules = {

/***/ "next-auth":
/*!****************************!*\
  !*** external "next-auth" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("next-auth");

/***/ }),

/***/ "next-auth/providers/credentials":
/*!**************************************************!*\
  !*** external "next-auth/providers/credentials" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/credentials");

/***/ }),

/***/ "(api)/./pages/api/auth/[...nextauth].js":
/*!*****************************************!*\
  !*** ./pages/api/auth/[...nextauth].js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"next-auth\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"next-auth/providers/credentials\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__);\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (next_auth__WEBPACK_IMPORTED_MODULE_0___default()({\n    providers: [\n        next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default()({\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials, req) {\n                const payload = {\n                    email: credentials.email,\n                    password: credentials.password\n                };\n                const res = await fetch(\"http://localhost:8000/api/auth/login\", {\n                    method: \"POST\",\n                    body: JSON.stringify(payload),\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        \"Accept-Language\": \"en-US\"\n                    }\n                });\n                const user = await res.json();\n                if (!res.ok) {\n                    throw new Error(\"Invalid credentials\");\n                }\n                if (res.ok && user) {\n                    return user;\n                }\n                return null;\n            }\n        }), \n    ],\n    secret: process.env.JWT_SECRET,\n    callbacks: {\n        async jwt ({ token , user , account  }) {\n            if (account && user) {\n                return {\n                    ...token,\n                    accessToken: user.data.accessToken,\n                    refreshToken: user.data.refreshToken,\n                    expiresIn: user.data.tokenExpirationDate,\n                    id: user.data.id\n                };\n            }\n            return token;\n        },\n        async session ({ session , token  }) {\n            session.user.accessToken = token.accessToken;\n            session.user.refreshToken = token.refreshToken;\n            session.user.accessTokenExpires = token.tokenExpirationDate;\n            return session;\n        },\n        async redirect ({ url , baseUrl  }) {\n            console.log(url, baseUrl);\n            // Allows relative callback URLs\n            return `${baseUrl}/chat`;\n        // if (url.startsWith(\"/\"))\n        // // Allows callback URLs on the same origin\n        // else if (new URL(url).origin === baseUrl) return url;\n        // return baseUrl;\n        }\n    },\n    pages: {\n        signIn: \"/auth/signin\"\n    },\n    // Enable debug messages in the console if you are having problems\n    debug: \"development\" === \"development\"\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWlDO0FBQ2lDO0FBRWxFLGlFQUFlQSxnREFBUSxDQUFDO0lBQ3RCRSxTQUFTLEVBQUU7UUFDVEQsc0VBQW1CLENBQUM7WUFDbEJFLFdBQVcsRUFBRTtnQkFDWEMsS0FBSyxFQUFFO29CQUNMQyxLQUFLLEVBQUUsT0FBTztvQkFDZEMsSUFBSSxFQUFFLE9BQU87aUJBQ2Q7Z0JBQ0RDLFFBQVEsRUFBRTtvQkFBRUYsS0FBSyxFQUFFLFVBQVU7b0JBQUVDLElBQUksRUFBRSxVQUFVO2lCQUFFO2FBQ2xEO1lBQ0QsTUFBTUUsU0FBUyxFQUFDTCxXQUFXLEVBQUVNLEdBQUcsRUFBRTtnQkFDaEMsTUFBTUMsT0FBTyxHQUFHO29CQUNkTixLQUFLLEVBQUVELFdBQVcsQ0FBQ0MsS0FBSztvQkFDeEJHLFFBQVEsRUFBRUosV0FBVyxDQUFDSSxRQUFRO2lCQUMvQjtnQkFFRCxNQUFNSSxHQUFHLEdBQUcsTUFBTUMsS0FBSyxDQUFDLHNDQUFzQyxFQUFFO29CQUM5REMsTUFBTSxFQUFFLE1BQU07b0JBQ2RDLElBQUksRUFBRUMsSUFBSSxDQUFDQyxTQUFTLENBQUNOLE9BQU8sQ0FBQztvQkFDN0JPLE9BQU8sRUFBRTt3QkFDUCxjQUFjLEVBQUUsa0JBQWtCO3dCQUNsQyxpQkFBaUIsRUFBRSxPQUFPO3FCQUMzQjtpQkFDRixDQUFDO2dCQUVGLE1BQU1DLElBQUksR0FBRyxNQUFNUCxHQUFHLENBQUNRLElBQUksRUFBRTtnQkFDN0IsSUFBSSxDQUFDUixHQUFHLENBQUNTLEVBQUUsRUFBRTtvQkFDWCxNQUFNLElBQUlDLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO2lCQUN4QztnQkFDRCxJQUFJVixHQUFHLENBQUNTLEVBQUUsSUFBSUYsSUFBSSxFQUFFO29CQUNsQixPQUFPQSxJQUFJLENBQUM7aUJBQ2I7Z0JBRUQsT0FBTyxJQUFJLENBQUM7YUFDYjtTQUNGLENBQUM7S0FDSDtJQUNESSxNQUFNLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxVQUFVO0lBQzlCQyxTQUFTLEVBQUU7UUFDVCxNQUFNQyxHQUFHLEVBQUMsRUFBRUMsS0FBSyxHQUFFVixJQUFJLEdBQUVXLE9BQU8sR0FBRSxFQUFFO1lBQ2xDLElBQUlBLE9BQU8sSUFBSVgsSUFBSSxFQUFFO2dCQUNuQixPQUFPO29CQUNMLEdBQUdVLEtBQUs7b0JBQ1JFLFdBQVcsRUFBRVosSUFBSSxDQUFDYSxJQUFJLENBQUNELFdBQVc7b0JBQ2xDRSxZQUFZLEVBQUVkLElBQUksQ0FBQ2EsSUFBSSxDQUFDQyxZQUFZO29CQUNwQ0MsU0FBUyxFQUFFZixJQUFJLENBQUNhLElBQUksQ0FBQ0csbUJBQW1CO29CQUN4Q0MsRUFBRSxFQUFFakIsSUFBSSxDQUFDYSxJQUFJLENBQUNJLEVBQUU7aUJBQ2pCLENBQUM7YUFDSDtZQUVELE9BQU9QLEtBQUssQ0FBQztTQUNkO1FBRUQsTUFBTVEsT0FBTyxFQUFDLEVBQUVBLE9BQU8sR0FBRVIsS0FBSyxHQUFFLEVBQUU7WUFDaENRLE9BQU8sQ0FBQ2xCLElBQUksQ0FBQ1ksV0FBVyxHQUFHRixLQUFLLENBQUNFLFdBQVcsQ0FBQztZQUM3Q00sT0FBTyxDQUFDbEIsSUFBSSxDQUFDYyxZQUFZLEdBQUdKLEtBQUssQ0FBQ0ksWUFBWSxDQUFDO1lBQy9DSSxPQUFPLENBQUNsQixJQUFJLENBQUNtQixrQkFBa0IsR0FBR1QsS0FBSyxDQUFDTSxtQkFBbUIsQ0FBQztZQUU1RCxPQUFPRSxPQUFPLENBQUM7U0FDaEI7UUFFRCxNQUFNRSxRQUFRLEVBQUMsRUFBRUMsR0FBRyxHQUFFQyxPQUFPLEdBQUUsRUFBRTtZQUMvQkMsT0FBTyxDQUFDQyxHQUFHLENBQUNILEdBQUcsRUFBRUMsT0FBTyxDQUFDLENBQUM7WUFDMUIsZ0NBQWdDO1lBQ2hDLE9BQU8sQ0FBQyxFQUFFQSxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDekIsMkJBQTJCO1FBQzNCLDZDQUE2QztRQUM3Qyx3REFBd0Q7UUFDeEQsa0JBQWtCO1NBQ25CO0tBQ0Y7SUFDREcsS0FBSyxFQUFFO1FBQ0xDLE1BQU0sRUFBRSxjQUFjO0tBQ3ZCO0lBQ0Qsa0VBQWtFO0lBQ2xFQyxLQUFLLEVBQUV0QixhQTlFSSxLQThFcUIsYUFBYTtDQUM5QyxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGF0LWFwcC1jbGllbnQvLi9wYWdlcy9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdLmpzPzUyN2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE5leHRBdXRoIGZyb20gXCJuZXh0LWF1dGhcIjtcbmltcG9ydCBDcmVkZW50aWFsc1Byb3ZpZGVyIGZyb20gXCJuZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IE5leHRBdXRoKHtcbiAgcHJvdmlkZXJzOiBbXG4gICAgQ3JlZGVudGlhbHNQcm92aWRlcih7XG4gICAgICBjcmVkZW50aWFsczoge1xuICAgICAgICBlbWFpbDoge1xuICAgICAgICAgIGxhYmVsOiBcIkVtYWlsXCIsXG4gICAgICAgICAgdHlwZTogXCJlbWFpbFwiLFxuICAgICAgICB9LFxuICAgICAgICBwYXNzd29yZDogeyBsYWJlbDogXCJQYXNzd29yZFwiLCB0eXBlOiBcInBhc3N3b3JkXCIgfSxcbiAgICAgIH0sXG4gICAgICBhc3luYyBhdXRob3JpemUoY3JlZGVudGlhbHMsIHJlcSkge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgIGVtYWlsOiBjcmVkZW50aWFscy5lbWFpbCxcbiAgICAgICAgICBwYXNzd29yZDogY3JlZGVudGlhbHMucGFzc3dvcmQsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCJodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpL2F1dGgvbG9naW5cIiwge1xuICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICBcIkFjY2VwdC1MYW5ndWFnZVwiOiBcImVuLVVTXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjcmVkZW50aWFsc1wiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzLm9rICYmIHVzZXIpIHtcbiAgICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSxcbiAgICB9KSxcbiAgXSxcbiAgc2VjcmV0OiBwcm9jZXNzLmVudi5KV1RfU0VDUkVULFxuICBjYWxsYmFja3M6IHtcbiAgICBhc3luYyBqd3QoeyB0b2tlbiwgdXNlciwgYWNjb3VudCB9KSB7XG4gICAgICBpZiAoYWNjb3VudCAmJiB1c2VyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4udG9rZW4sXG4gICAgICAgICAgYWNjZXNzVG9rZW46IHVzZXIuZGF0YS5hY2Nlc3NUb2tlbixcbiAgICAgICAgICByZWZyZXNoVG9rZW46IHVzZXIuZGF0YS5yZWZyZXNoVG9rZW4sXG4gICAgICAgICAgZXhwaXJlc0luOiB1c2VyLmRhdGEudG9rZW5FeHBpcmF0aW9uRGF0ZSxcbiAgICAgICAgICBpZDogdXNlci5kYXRhLmlkLFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdG9rZW47XG4gICAgfSxcblxuICAgIGFzeW5jIHNlc3Npb24oeyBzZXNzaW9uLCB0b2tlbiB9KSB7XG4gICAgICBzZXNzaW9uLnVzZXIuYWNjZXNzVG9rZW4gPSB0b2tlbi5hY2Nlc3NUb2tlbjtcbiAgICAgIHNlc3Npb24udXNlci5yZWZyZXNoVG9rZW4gPSB0b2tlbi5yZWZyZXNoVG9rZW47XG4gICAgICBzZXNzaW9uLnVzZXIuYWNjZXNzVG9rZW5FeHBpcmVzID0gdG9rZW4udG9rZW5FeHBpcmF0aW9uRGF0ZTtcblxuICAgICAgcmV0dXJuIHNlc3Npb247XG4gICAgfSxcblxuICAgIGFzeW5jIHJlZGlyZWN0KHsgdXJsLCBiYXNlVXJsIH0pIHtcbiAgICAgIGNvbnNvbGUubG9nKHVybCwgYmFzZVVybCk7XG4gICAgICAvLyBBbGxvd3MgcmVsYXRpdmUgY2FsbGJhY2sgVVJMc1xuICAgICAgcmV0dXJuIGAke2Jhc2VVcmx9L2NoYXRgO1xuICAgICAgLy8gaWYgKHVybC5zdGFydHNXaXRoKFwiL1wiKSlcbiAgICAgIC8vIC8vIEFsbG93cyBjYWxsYmFjayBVUkxzIG9uIHRoZSBzYW1lIG9yaWdpblxuICAgICAgLy8gZWxzZSBpZiAobmV3IFVSTCh1cmwpLm9yaWdpbiA9PT0gYmFzZVVybCkgcmV0dXJuIHVybDtcbiAgICAgIC8vIHJldHVybiBiYXNlVXJsO1xuICAgIH0sXG4gIH0sXG4gIHBhZ2VzOiB7XG4gICAgc2lnbkluOiBcIi9hdXRoL3NpZ25pblwiLFxuICB9LFxuICAvLyBFbmFibGUgZGVidWcgbWVzc2FnZXMgaW4gdGhlIGNvbnNvbGUgaWYgeW91IGFyZSBoYXZpbmcgcHJvYmxlbXNcbiAgZGVidWc6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCIsXG59KTtcbiJdLCJuYW1lcyI6WyJOZXh0QXV0aCIsIkNyZWRlbnRpYWxzUHJvdmlkZXIiLCJwcm92aWRlcnMiLCJjcmVkZW50aWFscyIsImVtYWlsIiwibGFiZWwiLCJ0eXBlIiwicGFzc3dvcmQiLCJhdXRob3JpemUiLCJyZXEiLCJwYXlsb2FkIiwicmVzIiwiZmV0Y2giLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImhlYWRlcnMiLCJ1c2VyIiwianNvbiIsIm9rIiwiRXJyb3IiLCJzZWNyZXQiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImNhbGxiYWNrcyIsImp3dCIsInRva2VuIiwiYWNjb3VudCIsImFjY2Vzc1Rva2VuIiwiZGF0YSIsInJlZnJlc2hUb2tlbiIsImV4cGlyZXNJbiIsInRva2VuRXhwaXJhdGlvbkRhdGUiLCJpZCIsInNlc3Npb24iLCJhY2Nlc3NUb2tlbkV4cGlyZXMiLCJyZWRpcmVjdCIsInVybCIsImJhc2VVcmwiLCJjb25zb2xlIiwibG9nIiwicGFnZXMiLCJzaWduSW4iLCJkZWJ1ZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/auth/[...nextauth].js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/auth/[...nextauth].js"));
module.exports = __webpack_exports__;

})();